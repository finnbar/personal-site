{% extends "base.html" %}
{% block title %}{{blog_title}}{% endblock %}
{% block content %}
<header class="ta-right fs-small smol">
    <a class="ta-left" style="float: left;" href="/index">Back</a>
    <a class="ta-right" href="/admin">Admin site</a>
</header>
<section class="wrapper-large title">
    <h1>{{blog_title}}</h1>
</section>
{% for post in posts %}
<div class="post-link" href="/post/{{post.id}}">
    <section class="wrapper-large post">
        <h2 class="post-title fw-bold">{{post.title}}</h2>
        <div class="time fs-small">
            posted in {{post.taglist()}} at {{post.date.strftime("%d %B %Y")}}
        </div>
        <div class="post-body">
            <div class="content">
                {{post.content|markdown}}
            </div>
            <div class="url">
                <p><strong>URL:</strong> <a href="https://{{post.mainurl}}">{{post.mainurl}}</a></p>
            </div>
        </div>
    </section>
    <div class="post-separator"><div class="fade"></div></div>
</div>
{% endfor %}
<script>
window.onload = function() {
    $(".post").hover(function() {
        // On hover
        console.log("on hover");
        $(this).children(".post-body").fadeIn(500);
        $(this).parent().children(".post-separator").children(".fade").show();
    }, function() {
        // Off hover
        $(this).children(".post-body").fadeOut(500);
        $(this).parent().children(".post-separator").children(".fade").hide();
    });
    $(".post-body").hide();
    $(".fade").hide();
}
</script>
{% endblock %}
